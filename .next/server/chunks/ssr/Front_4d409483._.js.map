{"version":3,"sources":["../../../../../Front/hooks/useFetch.ts","../../../../../Front/app/caixa/fluxo/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nexport function useFetch<T = any>(url: string) {\r\n  // Removed invalid default export\r\n  // export default useFetch; // This line has been removed\r\n  const [data, setData] = useState<T | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchData = useCallback(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n    fetch(url)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Erro ao buscar dados\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setData(data))\r\n      .catch((err) => setError(err.message))\r\n      .finally(() => setLoading(false));\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  return useMemo(() => ({ data, loading, error }), [data, loading, error]);\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\n\r\nexport default function CaixaFluxoPage() {\r\n  const { data: movimentacoes, loading, error } = useFetch<any[]>(\"/api/movimentacoes\");\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-950 text-white flex flex-col md:flex-row\">\r\n      <aside className=\"hidden md:flex flex-col w-64 bg-gray-900 border-r border-gray-800 p-6\">\r\n        <h2 className=\"font-bold text-lg text-sky-400 mb-4\">Fluxo de Caixa</h2>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <button className=\"w-full text-left px-4 py-2 rounded-lg transition border-2 border-transparent hover:bg-gray-800 hover:border-sky-400 hover:text-sky-400 focus:border-sky-400 focus:text-sky-400 active:scale-95 mb-2\" aria-label=\"Abertura/Fechamento\" tabIndex={0}>\r\n                Abertura/Fechamento\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <button className=\"w-full text-left px-4 py-2 rounded-lg transition border-2 border-transparent hover:bg-gray-800 hover:border-sky-400 hover:text-sky-400 focus:border-sky-400 focus:text-sky-400 active:scale-95 mb-2\" aria-label=\"Conciliação\" tabIndex={0}>\r\n                Conciliação\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </aside>\r\n      <main className=\"flex-1 p-6\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Fluxo de Caixa</h1>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-gray-900 rounded-xl shadow border border-gray-800\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Tipo</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Categoria</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Valor</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Data</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <tr><td colSpan={4} className=\"text-gray-400 px-4 py-2\">Carregando...</td></tr>\r\n              ) : error ? (\r\n                <tr><td colSpan={4} className=\"text-red-400 px-4 py-2\">Erro ao carregar movimentações</td></tr>\r\n              ) : (\r\n                (movimentacoes || []).map(mov => (\r\n                  <tr key={mov.id} className=\"transition hover:bg-gray-800 focus-within:bg-gray-800\">\r\n                    <td className={mov.tipo === \"entrada\" ? \"text-emerald-400 px-4 py-2\" : \"text-red-400 px-4 py-2\"}>{mov.tipo}</td>\r\n                    <td className=\"px-4 py-2\">{mov.categoria}</td>\r\n                    <td className=\"px-4 py-2 font-bold\">R$ {mov.valor?.toLocaleString() ?? \"-\"}</td>\r\n                    <td className=\"px-4 py-2\">{new Date(mov.data).toLocaleString()}</td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <button className=\"mt-8 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-6 rounded shadow transition active:scale-95\" aria-label=\"Nova Movimentação\">Nova Movimentação</button>\r\n      </main>\r\n      {/* Bottom Bar para mobile */}\r\n      <nav className=\"md:hidden fixed bottom-0 left-0 w-full bg-gray-900 border-t border-gray-800 flex justify-around items-center h-16 z-30\">\r\n        <button className=\"flex flex-col items-center text-xs text-sky-400 hover:text-emerald-400 focus:text-emerald-400 transition active:scale-95\" aria-label=\"Abertura/Fechamento\">\r\n          <svg width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"2\"/><path stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 12h8\"/></svg>\r\n          Abrir/Fechar\r\n        </button>\r\n        <button className=\"flex flex-col items-center text-xs text-sky-400 hover:text-emerald-400 focus:text-emerald-400 transition active:scale-95\" aria-label=\"Nova Movimentação\">\r\n          <svg width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/><path stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v8M8 12h8\"/></svg>\r\n          Nova Mov.\r\n        </button>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}