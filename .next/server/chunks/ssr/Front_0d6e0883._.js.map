{"version":3,"sources":["../../../../../Front/hooks/useFetch.ts","../../../../../Front/app/admin/lojas/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nexport function useFetch<T = any>(url: string) {\r\n  // Removed invalid default export\r\n  // export default useFetch; // This line has been removed\r\n  const [data, setData] = useState<T | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchData = useCallback(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n    fetch(url)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Erro ao buscar dados\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setData(data))\r\n      .catch((err) => setError(err.message))\r\n      .finally(() => setLoading(false));\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  return useMemo(() => ({ data, loading, error }), [data, loading, error]);\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\n\r\nexport default function AdminLojasPage() {\r\n  const { data: lojas, loading, error } = useFetch<any[]>(\"/api/lojas\");\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-950 text-white flex flex-col md:flex-row\">\r\n      <aside className=\"hidden md:flex flex-col w-64 bg-gray-900 border-r border-gray-800 p-6\">\r\n        <h2 className=\"font-bold text-lg text-emerald-400 mb-4\">Gestão de Lojas</h2>\r\n        <nav>\r\n          <ul>\r\n            {loading ? (\r\n              <li className=\"text-gray-400\">Carregando...</li>\r\n            ) : error ? (\r\n              <li className=\"text-red-400\">Erro ao carregar lojas</li>\r\n            ) : (\r\n              (lojas || []).map(loja => (\r\n                <li key={loja.id}>\r\n                  <button className=\"w-full text-left px-4 py-2 rounded-lg transition border-2 border-transparent hover:bg-gray-800 hover:border-emerald-400 hover:text-emerald-400 focus:border-emerald-400 focus:text-emerald-400 active:scale-95 mb-2\" aria-label={\"Selecionar \" + loja.nome} tabIndex={0}>\r\n                    {loja.nome}\r\n                  </button>\r\n                </li>\r\n              ))\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </aside>\r\n      <main className=\"flex-1 p-6\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Gestão de Lojas</h1>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {loading ? (\r\n            <div className=\"text-gray-400\">Carregando...</div>\r\n          ) : (\r\n            (lojas || []).map(loja => (\r\n              <div key={loja.id} className=\"bg-gray-900 rounded-xl shadow p-6 border border-gray-800 transition hover:scale-[1.03] hover:border-emerald-500 focus-within:border-emerald-500\" tabIndex={0} aria-label={loja.nome}>\r\n                <h2 className=\"text-lg font-bold text-emerald-400 mb-2\">{loja.nome}</h2>\r\n                <div className=\"text-gray-400 mb-2\">Meta de Venda: <span className=\"text-white font-bold\">R$ {loja.meta_venda?.toLocaleString() ?? \"-\"}</span></div>\r\n                <div className=\"text-gray-400 mb-2\">Comissão: <span className=\"text-white font-bold\">{loja.porcentagem_comissao ?? \"-\"}%</span></div>\r\n                <button className=\"mt-4 bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded shadow transition active:scale-95\" aria-label=\"Editar Loja\">Editar</button>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </main>\r\n      {/* Bottom Bar para mobile */}\r\n      <nav className=\"md:hidden fixed bottom-0 left-0 w-full bg-gray-900 border-t border-gray-800 flex justify-around items-center h-16 z-30\">\r\n        <button className=\"flex flex-col items-center text-xs text-gray-400 hover:text-emerald-400 focus:text-emerald-400 transition active:scale-95\" aria-label=\"Menu\">\r\n          <svg width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 12h18M3 6h18M3 18h18\"/></svg>\r\n          Menu\r\n        </button>\r\n        <button className=\"flex flex-col items-center text-xs text-gray-400 hover:text-emerald-400 focus:text-emerald-400 transition active:scale-95\" aria-label=\"Nova Loja\">\r\n          <svg width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/><path stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v8M8 12h8\"/></svg>\r\n          Nova Loja\r\n        </button>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}