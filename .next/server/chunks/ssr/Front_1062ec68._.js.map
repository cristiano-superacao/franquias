{"version":3,"sources":["../../../../../Front/hooks/useFetch.ts","../../../../../Front/app/config/comissoes/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nexport function useFetch<T = any>(url: string) {\r\n  // Removed invalid default export\r\n  // export default useFetch; // This line has been removed\r\n  const [data, setData] = useState<T | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchData = useCallback(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n    fetch(url)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Erro ao buscar dados\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setData(data))\r\n      .catch((err) => setError(err.message))\r\n      .finally(() => setLoading(false));\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  return useMemo(() => ({ data, loading, error }), [data, loading, error]);\r\n}\r\n","\r\n\"use client\";\r\nimport React from \"react\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\n\r\nexport default function ConfigComissoesPage() {\r\n  const { data: faixas = [], loading, error } = useFetch<any[]>(\"/api/comissoes\");\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-950 text-white flex flex-col md:flex-row\">\r\n      <aside className=\"hidden md:flex flex-col w-64 bg-gray-900 border-r border-gray-800 p-6\">\r\n        <h2 className=\"font-bold text-lg text-emerald-400 mb-4\">Configurar Comissões</h2>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <button className=\"w-full text-left px-4 py-2 rounded-lg transition border-2 border-transparent hover:bg-gray-800 hover:border-emerald-400 hover:text-emerald-400 focus:border-emerald-400 focus:text-emerald-400 active:scale-95 mb-2\" aria-label=\"Nova Faixa\" tabIndex={0}>\r\n                Nova Faixa\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </aside>\r\n      <main className=\"flex-1 p-6\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Configuração de Comissões</h1>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-gray-900 rounded-xl shadow border border-gray-800\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Loja</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Faixa</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Volume</th>\r\n                <th className=\"px-4 py-2 text-left text-gray-400\">Ações</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <tr><td colSpan={4} className=\"text-gray-400 px-4 py-2\">Carregando...</td></tr>\r\n              ) : error ? (\r\n                <tr><td colSpan={4} className=\"text-red-400 px-4 py-2\">Erro ao carregar faixas</td></tr>\r\n              ) : (\r\n                (faixas || []).map((faixa: any, idx: number) => (\r\n                  <tr key={idx}>\r\n                    <td className=\"px-4 py-2\">{faixa.loja ?? faixa.nome}</td>\r\n                    <td className=\"px-4 py-2\">{faixa.faixa ?? faixa.porcentagem_comissao ?? \"-\"}%</td>\r\n                    <td className=\"px-4 py-2\">{faixa.volume ?? (faixa.meta_venda ? `R$ ${faixa.meta_venda.toLocaleString()}` : \"-\")}</td>\r\n                    <td className=\"px-4 py-2\">\r\n                      <button className=\"text-emerald-400 hover:underline\">Editar</button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </main>\r\n      {/* Bottom Bar para mobile */}\r\n      <nav className=\"md:hidden fixed bottom-0 left-0 w-full bg-gray-900 border-t border-gray-800 flex justify-around items-center h-16 z-30\">\r\n        <button className=\"flex flex-col items-center text-xs text-emerald-400 hover:text-sky-400 focus:text-sky-400 transition active:scale-95\" aria-label=\"Nova Faixa\">\r\n          <svg width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/><path stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v8M8 12h8\"/></svg>\r\n          Nova Faixa\r\n        </button>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}